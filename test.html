<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    // class Foo{
    //     constructor(_val) {
    //         this.val = _val
    //     }
    //     run(){
    //         console.log(this)
    //         return this.val
    //     }
    // }
    // const effect = (val) => {
    //     const foo =new Foo(val)
    //     return foo.run
    //     // return foo.run.bind(foo)
    // }
    // //这里的result就是run函数，如果不用bind指定this,就默认是window对象或者undefined，反正不是你想要的，这时候this.val就拿不到值，报错
    // const result = effect('foo')
    //
    // console.log(result())


    // function run(){
    //     console.log(this)
    // }
    // const obj = {
    //     run
    // }
    // run()
    // obj.run()
    // run.bind(obj)()



    //通过call给一个函数绑定this
    // const obj2 = {
    //     foo:1
    // }
    // function fn(){
    //     return this.foo
    // }
    // const r1 = fn.call(window)
    // const r2 = fn.call(obj2)
    // console.log(r1)
    // console.log(r2)

    //给target添加属性实现传值
    // const a = {foo:1}
    // const p = new Proxy({...a,bar:2},{
    //     get(target, key, receiver) {
    //         console.log(target.bar)
    //     }
    // })
    // p.foo
    //bind的偏函数功能
    // const a = (p1,p2) => {
    //     console.log(p1)
    //     console.log(p2)
    // }
    // a('p1')
    // const b = a.bind(null,'test')
    // b('p1')

    const obj = {a:{foo:1},b:2}
    let {a} = obj
    a = {foo:2}
    // obj.a = {foo:2}
    console.log(a,obj)
</script>

</body>
</html>
